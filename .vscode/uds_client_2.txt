import requests

# Replace this with the actual IP address of your PC (Windows machine running Flask)
PC_IP = "192.168.1.100"  # <- Example IP, replace with actual
PORT = 5000

url = f"http://{PC_IP}:{PORT}/trigger"

try:
    response = requests.post(url)
    if response.status_code == 200:
        data = response.json()

        # Get the hex response from the server
        hex_response = data["canoe_response"]
        
        # Convert hex (string like '0x7D4C3B2A19000000') back to an integer
        if hex_response.startswith("0x"):
            int_value = int(hex_response, 16)
            print(f"✅ Converted value from hex: {int_value}")
        else:
            print(f"❌ Invalid hex format: {hex_response}")

    else:
        print(f"❌ Failed with status code: {response.status_code}")
except Exception as e:
    print(f"❌ Error during request: {str(e)}")
