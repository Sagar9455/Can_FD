# udp_client.py

import socket
import threading

# Replace this with your PC's actual IP address
SERVER_IP = "192.168.x.x"   # Example: 192.168.1.10
SERVER_PORT = 5005

client_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

# Function to send messages manually from the Raspberry Pi
def send_message():
    while True:
        msg = input("[Client] Enter message to send: ")
        # Send message to the PC
        client_socket.sendto(msg.encode(), (SERVER_IP, SERVER_PORT))
        print(f"[Client] Sent: {msg}")

# Function to listen for incoming messages from the PC
def listen_for_messages():
    while True:
        data, addr = client_socket.recvfrom(1024)
        print(f"[Client] Received from {addr}: {data.decode()}")

# Start both threads for listening and sending
threading.Thread(target=send_message, daemon=True).start()
threading.Thread(target=listen_for_messages, daemon=True).start()

# Keep main thread alive
while True:
    pass
